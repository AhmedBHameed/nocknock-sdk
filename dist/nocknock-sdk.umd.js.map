{"version":3,"file":"nocknock-sdk.umd.js","sources":["../src/helpers/constants.ts","../src/use-cases/forgotPassword.ts","../src/use-cases/login.ts","../src/use-cases/logout.ts","../src/use-cases/resetPassword.ts","../src/use-cases/signup.ts","../src/nocknock-sdk.ts"],"sourcesContent":["export const url = '/nodeys/v1/graphql'\n","import { url } from '../helpers/constants'\nimport { NockNock, ForgotPasswordInput } from '../models/NockNockModel'\n\nfunction forgotPassword<T = any>(this: NockNock, data: ForgotPasswordInput): Promise<T> {\n  if (!this._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return this._httpClient.post<unknown, T>(url, {\n    query:\n      'mutation ForgotPassword($email: String!) {\\n        forgotPassword(email: $email) {\\n            message\\n          __typename\\n        }\\n      }',\n    variables: {\n      email: data.email\n    }\n  })\n}\n\nexport default forgotPassword\n","import { url } from '../helpers/constants'\nimport { LoginInput, NockNock } from '../models/NockNockModel'\n\nfunction login<T = any>(this: NockNock, userData: LoginInput): Promise<T> {\n  if (!this._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return this._httpClient.post<unknown, T>(url, {\n    query:\n      'query Login($userData: LoginDataInput!) {\\n          login(userData: $userData) {\\n            accessToken\\n            refreshToken\\n            userRole\\n            __typename\\n          }\\n        }',\n    variables: {\n      userData: { email: userData.username, password: userData.password }\n    }\n  })\n}\n\nexport default login\n","import { url } from '../helpers/constants'\nimport { NockNock } from '../models/NockNockModel'\n\nfunction logout<T = any>(this: NockNock, username: string, password: string): Promise<T> {\n  if (!this._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return this._httpClient.post<unknown, T>(url, {\n    query: `\n      query Logout {\n        logout {\n            message\n          __typename\n        }\n      }\n      `,\n    variables: {\n      userData: { email: username, password }\n    }\n  })\n}\n\nexport default logout\n","import { url } from '../helpers/constants'\nimport { NockNock, ResetPasswordInput } from '../models/NockNockModel'\n\nfunction resetPassword<T = any>(this: NockNock, data: ResetPasswordInput): Promise<T> {\n  if (!this._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return this._httpClient.post<unknown, T>(url, {\n    query:\n      'mutation ResetPassword($userData: ResetPasswordInput!) {\\n        resetPassword(userData: $userData) {\\n            message\\n          __typename\\n        }\\n      }',\n    variables: {\n      userData: {\n        password: data.newPassword,\n        userId: data.userId,\n        verificationId: data.verificationId\n      }\n    }\n  })\n}\n\nexport default resetPassword\n","import { url } from '../helpers/constants'\nimport { NockNock, SignupInput } from '../models/NockNockModel'\n\nfunction signup<T = any>(this: NockNock, data: SignupInput): Promise<T> {\n  if (!this._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return this._httpClient.post<unknown, T>(url, {\n    query:\n      'mutation Signup($userData: SignupInput!) {\\n        signup(userData: $userData) {\\n            message\\n          __typename\\n        }\\n      }',\n    variables: {\n      userData: {\n        email: data.email,\n        password: data.password,\n        name: {\n          first: data.name.first.trim(),\n          last: data.name.last.trim()\n        }\n      }\n    }\n  })\n}\n\nexport default signup\n","// Import here Polyfills if needed. Recommended core-js (npm i -D core-js)\n// import \"core-js/fn/array.find\"\n// ...\n\nimport axios, { AxiosRequestConfig } from 'axios'\nimport {\n  Auth,\n  LoginFun,\n  SignupFun,\n  ForgotPasswordFun,\n  ResetPasswordFun,\n  LogoutFun\n} from './models/NockNockModel'\nimport forgotPassword from './use-cases/forgotPassword'\nimport login from './use-cases/login'\nimport logout from './use-cases/logout'\nimport resetPassword from './use-cases/resetPassword'\nimport signup from './use-cases/signup'\n\nclass NockNock {\n  _httpClient!: any\n  _config!: AxiosRequestConfig | undefined\n  public auth: Auth = {\n    login: login.bind(this) as LoginFun,\n    signup: signup.bind(this) as SignupFun,\n    forgotPassword: forgotPassword.bind(this) as ForgotPasswordFun,\n    resetPassword: resetPassword.bind(this) as ResetPasswordFun,\n    logout: logout.bind(this) as LogoutFun\n  }\n\n  init(config: AxiosRequestConfig): void {\n    this._config = config\n    if (!this._config.baseURL) {\n      throw new Error('No base url provided! Please call init and pass some configuration')\n    }\n\n    this._httpClient = axios.create({\n      ...this._config,\n      withCredentials: !!config.withCredentials\n    })\n  }\n}\n\nconst nockNock = new NockNock()\nexport const init = nockNock.init\nexport const auth = nockNock.auth\nexport default nockNock\n"],"names":[],"mappings":"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"}