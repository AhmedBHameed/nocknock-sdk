{"version":3,"file":"nocknock-sdk.es5.js","sources":["../src/helpers/constants.ts","../src/use-cases/forgotPassword.ts","../src/use-cases/login.ts","../src/use-cases/logout.ts","../src/use-cases/resetPassword.ts","../src/use-cases/signup.ts","../src/nocknock-sdk.ts"],"sourcesContent":["export const url = '/nodeys/v1/graphql'\n","import { url } from '../helpers/constants'\nimport { NockNock, ForgotPasswordInput } from '../models/NockNockModel'\n\nconst forgotPassword = (config: NockNock) => <T = any>(data: ForgotPasswordInput): Promise<T> => {\n  if (!config._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return config._httpClient.post<unknown, T>(url, {\n    query:\n      'mutation ForgotPassword($email: String!) {\\n        forgotPassword(email: $email) {\\n            message\\n          __typename\\n        }\\n      }',\n    variables: {\n      email: data.email\n    }\n  })\n}\n\nexport default forgotPassword\n","import { url } from '../helpers/constants'\nimport { LoginInput, NockNock } from '../models/NockNockModel'\n\nconst login = (config: NockNock) => <T = any>(userData: LoginInput): Promise<T> => {\n  if (!config._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return config._httpClient.post<unknown, T>(url, {\n    query:\n      'query Login($userData: LoginDataInput!) {\\n          login(userData: $userData) {\\n            accessToken\\n            refreshToken\\n            userRole\\n            __typename\\n          }\\n        }',\n    variables: {\n      userData: { email: userData.username, password: userData.password }\n    }\n  })\n}\n\nexport default login\n","import { url } from '../helpers/constants'\nimport { NockNock } from '../models/NockNockModel'\n\nconst logout = (config: NockNock) => <T = any>(username: string, password: string): Promise<T> => {\n  if (!config._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return config._httpClient.post<unknown, T>(url, {\n    query: `\n      query Logout {\n        logout {\n            message\n          __typename\n        }\n      }\n      `,\n    variables: {\n      userData: { email: username, password }\n    }\n  })\n}\n\nexport default logout\n","import { url } from '../helpers/constants'\nimport { NockNock, ResetPasswordInput } from '../models/NockNockModel'\n\nconst resetPassword = (config: NockNock) => <T = any>(data: ResetPasswordInput): Promise<T> => {\n  if (!config._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return config._httpClient.post<unknown, T>(url, {\n    query:\n      'mutation ResetPassword($userData: ResetPasswordInput!) {\\n        resetPassword(userData: $userData) {\\n            message\\n          __typename\\n        }\\n      }',\n    variables: {\n      userData: {\n        password: data.newPassword,\n        userId: data.userId,\n        verificationId: data.verificationId\n      }\n    }\n  })\n}\n\nexport default resetPassword\n","import { url } from '../helpers/constants'\nimport { NockNock, SignupInput } from '../models/NockNockModel'\n\nconst signup = (config: NockNock) => <T = any>(data: SignupInput): Promise<T> => {\n  if (!config._httpClient) {\n    throw new Error(\n      'You have to initialize some configuration first. Please call .init() method and set some configuration.'\n    )\n  }\n\n  return config._httpClient.post<unknown, T>(url, {\n    query:\n      'mutation Signup($userData: SignupInput!) {\\n        signup(userData: $userData) {\\n            message\\n          __typename\\n        }\\n      }',\n    variables: {\n      userData: {\n        email: data.email,\n        password: data.password,\n        name: {\n          first: data.name.first.trim(),\n          last: data.name.last.trim()\n        }\n      }\n    }\n  })\n}\n\nexport default signup\n","// Import here Polyfills if needed. Recommended core-js (npm i -D core-js)\n// import \"core-js/fn/array.find\"\n// ...\n\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios'\nimport {\n  Auth,\n  LoginFun,\n  SignupFun,\n  ForgotPasswordFun,\n  ResetPasswordFun,\n  LogoutFun\n} from './models/NockNockModel'\nimport forgotPassword from './use-cases/forgotPassword'\nimport login from './use-cases/login'\nimport logout from './use-cases/logout'\nimport resetPassword from './use-cases/resetPassword'\nimport signup from './use-cases/signup'\n\nexport function init(config: AxiosRequestConfig) {\n  let _config: AxiosRequestConfig\n  let _httpClient: AxiosInstance\n\n  _config = config\n  if (!_config.baseURL) {\n    throw new Error('No base url provided! Please call init and pass some configuration')\n  }\n\n  _httpClient = axios.create({\n    ..._config,\n    withCredentials: !!config.withCredentials\n  })\n\n  const auth: Auth = {\n    login: login({ _httpClient, _config }) as LoginFun,\n    signup: signup({ _httpClient, _config }) as SignupFun,\n    forgotPassword: forgotPassword({ _httpClient, _config }) as ForgotPasswordFun,\n    resetPassword: resetPassword({ _httpClient, _config }) as ResetPasswordFun,\n    logout: logout({ _httpClient, _config }) as LogoutFun\n  }\n\n  return auth\n}\n"],"names":[],"mappings":"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"}